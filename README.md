# UGREEN NAS Docker Helper

**「理論と実践のギャップを埋める、UGREEN NAS用Docker環境構築ツール」**

[![GitHub stars](https://img.shields.io/github/stars/davetanaka/ugreen-nas-docker-helper?style=social)](https://github.com/davetanaka/ugreen-nas-docker-helper)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![UGREEN NAS](https://img.shields.io/badge/UGREEN-NAS-green.svg)](https://www.ugreengroup.com/)

## 🎯 このプロジェクトについて

UGREEN NASを購入したものの、Dockerコンテナの設定で苦戦していませんか？

- 「公式ガイドに従ったのに動かない...」
- 「権限エラーが解決できない...」  
- 「PUID/PGIDって何？どの値を使えばいいの？」

**UGREEN NAS Docker Helper**は、実際のUGREEN NAS環境で発見された「理論と実践のギャップ」を埋めるためのツールセットです。

クラウドファンディングで10億円を集めたUGREEN NASですが、初心者向けのDockerサポートツールが不足しています。このプロジェクトは、そのギャップを埋め、**初心者でも安全にDockerコンテナを導入できる**ようにすることを目指しています。

## 🔍 「理論と実践のギャップ」とは？

多くのDockerガイドでは、`PUID=1000, PGID=1000`の設定が前提とされています。しかし、実際のUGREEN NAS環境では：

- ✅ 実際のUID/GIDは`1000/100`であることが多い
- ❓ コンテナによっては`unknown`や`UID=911`などの謎のユーザーでファイルが作成される
- 🤔 理論的には間違った設定でも、なぜか動作することがある

これらの「理論と実践のギャップ」が、初心者を悩ませる大きな原因となっています。

## ⭐ 主な機能

| 機能 | 説明 |
|------|------|
| 🔍 **環境検出スクリプト** | あなたのNAS環境に最適な設定値を自動検出 |
| 📋 **Stack YAMLテンプレート** | 人気アプリの設定済みテンプレート（初心者向け注釈付き） |
| 📖 **詳細ガイド** | 初心者でも理解できる丁寧な解説 |
| 🛠️ **トラブルシューティング** | 実際に遭遇した問題と解決策 |
| 💡 **メーカーへの提言** | より良いUGREEN NASエコシステムのための建設的な提案 |

## 🚀 クイックスタート

### 1. 環境検出スクリプトの実行

まずは、あなたのNAS環境に最適な設定値を確認しましょう：

```bash
# SSHでNASに接続
ssh nasuser@あなたのNASのIP

# スクリプトをダウンロードして実行
wget -O ugreen-env-detect.sh https://raw.githubusercontent.com/davetanaka/ugreen-nas-docker-helper/main/scripts/ugreen-env-detect.sh
chmod +x ugreen-env-detect.sh
./ugreen-env-detect.sh
```

### 2. 神5アプリの導入

**神5アプリ**: Portainer, Fail2ban, Duplicati, Tailscale, Jellyfin

推奨導入フロー：
1. **Portainer**: SSH経由で個別導入
2. **Fail2ban**: Portainer経由で手動導入（学習のため）
3. **神3スタック**: Stack方式で一括導入（効率のため）

### 3. Portainerでのデプロイ

1. Portainerにアクセス（`http://あなたのNASのIP:9000`）
2. 「Stacks」→「+ Add stack」をクリック
3. [essential-stack.yml](stacks/essential-stack.yml)を貼り付け
4. 環境検出スクリプトの結果に基づいて設定を調整
5. 「Deploy the stack」をクリック

## 🎬 神5アプリの説明

| アプリ | 役割 | ポート | 重要度 |
|-------|------|--------|---------|
| **Portainer** | Docker管理UI | 9000 | ⭐⭐⭐ |
| **Fail2ban** | セキュリティ監視 | - | ⭐⭐⭐ |
| **Duplicati** | バックアップ | 8200 | ⭐⭐⭐ |
| **Tailscale** | VPN/リモートアクセス | - | ⭐⭐ |
| **Jellyfin** | メディアサーバー | 8096 | ⭐⭐ |

## 📚 詳細ガイド

- 📖 [完全セットアップガイド](docs/complete-setup-guide.md) - 初心者向け詳細解説
- 🛠️ [トラブルシューティング](docs/simple-troubleshooting.md) - よくある問題と解決策
- 🛡️ [セキュリティガイド](docs/security-notes.md) - 安全な運用のための指針

## 📁 プロジェクト構成

```
ugreen-nas-docker-helper/
├── README.md                    # このファイル
├── scripts/
│   └── ugreen-env-detect.sh     # 環境検出スクリプト
├── stacks/
│   └── essential-stack.yml      # 神3アプリ用Stack定義
└── docs/
    ├── complete-setup-guide.md  # 完全セットアップガイド
    ├── troubleshooting.md       # トラブルシューティング
    └── basic-security.md        # セキュリティガイド

```

## ❓ なぜこのプロジェクトが必要なのか？

### Synology vs UGREEN：企業戦略の違い

| 項目 | Synology | UGREEN |
|------|----------|---------|
| 価格 | 高価 | 手頃 |
| アプリ数 | 300+ | 数十個 |
| サポート | 手厚い | 限定的 |
| 初心者対応 | 徹底 | 不十分 |
| Docker対応 | 制限あり | 自由度高 |
| ユーザー体験 | 統一感 | バラつき |

Synologyが高価な理由の一つは、300以上のアプリを自社でテスト・サポートするコストです。一方、UGREENは「Dockerがあればなんでもできる！」というアプローチを取っていますが、これは初心者には厳しい現実です。

### 私たちの立場

このプロジェクトは、UGREENへの「愛のある批判」です。ハードウェアは素晴らしいのに、ソフトウェア面での初心者サポートが不足しています。私たちユーザーが互いに助け合い、同時にメーカーに「もっと初心者に優しくして！」と声を届けることが重要だと考えています。

## 🛠️ 実践的な特徴

### 理論と実践のギャップへの対応

このプロジェクトの最大の特徴は、実際の環境で発生する「予想外の動作」に対する現実的なアプローチです：

```bash
# 理論: PUID=1000, PGID=1000 が一般的
# 実践: UGREEN NASでは PUID=1000, PGID=100 が正解

# 理論: 設定通りのユーザーでファイルが作成される
# 実践: 'unknown' や 'UID=911' などで作成されることがある

# でも重要なのは: 「動けばOK、問題が起きたら対処」という現実的な考え方
```

### 段階的学習アプローチ

1. **Portainer**: まず管理ツールを個別導入（基本を学ぶ）
2. **Fail2ban**: 手動設定でセキュリティの理解を深める
3. **神3スタック**: Stack方式で効率的に一括導入

このアプローチにより、初心者でも無理なくDockerの概念を身につけられます。

## 🎯 実際の成果

### システム評価（独自指標）

#### Before（素のUGREEN NAS）
- **コスパ**: 18点 - ハード性能は素晴らしい
- **健康プラス度**: 11点 - ただの保存装置
- **使いやすさ**: 12点 - 初心者には厳しい
- **耐久性・サポート**: 10点 - サポート体制が課題
- **環境・社会影響**: 8点 - 特筆すべき配慮なし
- **総合**: 59点

#### After（神5アプリ導入後）
- **コスパ**: 19点 - 投資効果抜群！
- **健康プラス度**: 17点 - セキュリティ安心、学習機会、エンタメ向上
- **使いやすさ**: 16点 - Portainerで直感操作可能
- **耐久性・サポート**: 12点 - コミュニティサポート充実
- **環境・社会影響**: 10点 - 知識共有で社会貢献
- **総合**: 74点（+15点アップ！）

## 🤝 貢献方法

このプロジェクトはコミュニティの力で成長します：

### 貢献の種類

1. **問題報告**: [Issues](https://github.com/davetanaka/ugreen-nas-docker-helper/issues)で問題を報告
2. **改善提案**: [Pull Requests](https://github.com/davetanaka/ugreen-nas-docker-helper/pulls)で改善案を提出  
3. **体験共有**: [Discussions](https://github.com/davetanaka/ugreen-nas-docker-helper/discussions)であなたの経験を共有
4. **ドキュメント改善**: 誤字脱字の修正や分かりやすい説明の追加
5. **新しいStackテンプレート**: 他の有用なアプリの組み合わせを提案

### 特に求めている貢献

- **実際の体験談**: 「このエラーに遭遇して、こう解決した」
- **環境の多様性**: 異なるUGREENモデルでの動作確認
- **権限問題の解明**: PUID/PGID問題のより深い理解
- **セキュリティ強化**: より安全な設定方法の提案

## 🎬 動画コンテンツ

このプロジェクトは動画での解説も予定しています：

- **Part 1**: 基礎知識編 - Docker、Portainer、Stackとは？
- **Part 2**: 環境チェック編 - 「理論と実践のギャップ」の発見
- **Part 3**: 実践導入編 - 神5アプリの実際の導入手順
- **Part 4**: トラブルシューティング編 - 権限問題との戦い
- **Part 5**: メンテナンス編 - 長期運用のコツ

## ⚠️ 免責事項

### 重要な注意点

- **非公式ツール**: このツールはUGREEN公式のサポートツールではありません
- **自己責任**: 使用は自己責任でお願いします
- **限定的サポート**: コミュニティベースのサポートのため、対応に時間がかかる場合があります
- **環境依存**: 全てのUGREEN NAS環境での動作を保証するものではありません

### データの安全性

- **バックアップ推奨**: 重要なデータは事前にバックアップを取ってください
- **テスト環境**: 可能であれば、本番環境以外でのテストを推奨します
- **段階的導入**: 一度に全てを導入せず、一つずつ確認しながら進めてください

## 📄 ライセンス

このプロジェクトは[MITライセンス](LICENSE)の下で公開されています。

### ライセンスの意味

- **自由な使用**: 個人・商用問わず自由に使用可能
- **改変OK**: ソースコードの改変・再配布が可能
- **無保証**: 作者は一切の責任を負いません

## 🙏 謝辞

### コミュニティへの感謝

このプロジェクトは、多くのUGREEN NASユーザーの実体験と、コミュニティの協力によって成り立っています。

特に感謝したい方々：
- **「理論と実践のギャップ」の発見**に貢献してくださった初心者の皆様
- **権限問題の調査**に協力してくださった技術者の皆様
- **セキュリティ面でのアドバイス**をくださった専門家の皆様
- **ドキュメント改善**に貢献してくださったライターの皆様

### UGREEN社への期待

UGREENの優れたハードウェアに、より良いソフトウェア体験が加われば、真の意味でSynologyの対抗馬になれると信じています。このプロジェクトが、そのきっかけの一つになることを願っています。

## 📞 連絡先

### プロジェクト関連
- **GitHub Issues**: バグ報告・機能要求
- **GitHub Discussions**: 一般的な質問・アイデア交換

### メディア・協業関連
- **GitHub Issues**: 取材依頼や協業提案もこちらで受け付けています

---

**最終更新**: 2025年6月2日  
**バージョン**: v1.0.0  
**作成者**: davetanaka & UGREEN NASコミュニティ  

> 「失敗から学び、成功へ導く」 - このプロジェクトのモットー

---

### Star ⭐ をお願いします！

このプロジェクトが役に立ったら、ぜひGitHubでStarを付けてください。あなたのStarが、他のUGREEN NASユーザーがこのプロジェクトを見つける手助けになります！
